<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <script>
        var index= 1,first=true;
        var func = (function(index) {
            return function() {
                if(first)
                    return;
                if (extentChanging)
                    return;
                extentChanging = true;
                var deferreds=[];
                for(var index2=0,len=maps.length;index2<len;index2++) {
                    if (index2 == index) {
                        continue;
                    }
                    var map2 = maps[index2],map=maps[index];
                    deferreds.push(map2.setExtent(map.extent));
                }
                all(deferreds).then(function() {
                    extentChanging = false;
                });
            };
        })(index);
        func();
        var rr=3;
        var tt=(function(index){
            return function(){
                rr+=11;
            };
        })(index);
        tt();
        debugger;
    </script>
</head>
<body>

</body>
</html>